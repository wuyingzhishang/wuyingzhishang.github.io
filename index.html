<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>聚合工具箱</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">聚合工具箱</h1>
            <p class="subtitle">实用工具集合，一站式查询服务</p>
        </div>

        <nav class="nav-tabs">
            <button class="nav-tab active" data-tab="fuel">⛽ 油价查询</button>
            <button class="nav-tab" data-tab="currency">💱 汇率转换</button>
            <button class="nav-tab" data-tab="text">📝 文本处理</button>
        </nav>

        <div class="tab-content" id="fuelTab">
            <div class="search-section">
                <div class="search-box">
                    <input type="text" id="regionInput" placeholder="输入地区名称（如：上海、北京、广州）" autocomplete="off">
                    <button id="searchBtn">查询</button>
                </div>
                <div class="quick-select">
                    <span class="quick-label">热门地区：</span>
                    <button class="quick-btn" data-region="北京">北京</button>
                    <button class="quick-btn" data-region="上海">上海</button>
                    <button class="quick-btn" data-region="广州">广州</button>
                    <button class="quick-btn" data-region="深圳">深圳</button>
                    <button class="quick-btn" data-region="杭州">杭州</button>
                    <button class="quick-btn" data-region="成都">成都</button>
                </div>
            </div>

            <div class="result-section" id="resultSection" style="display: none;">
                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>正在查询油价信息...</p>
                </div>

                <div class="result-content" id="resultContent" style="display: none;">
                    <div class="region-info">
                        <h2 id="regionName">地区名称</h2>
                        <p class="update-time" id="updateTime">更新时间</p>
                    </div>

                    <div class="price-grid">
                        <div class="price-card type-92">
                            <div class="card-header">
                                <span class="fuel-type">92号汽油</span>
                                <span class="fuel-icon">⛽</span>
                            </div>
                            <div class="price-value" id="price92">--</div>
                            <div class="price-unit">元/升</div>
                        </div>

                        <div class="price-card type-95">
                            <div class="card-header">
                                <span class="fuel-type">95号汽油</span>
                                <span class="fuel-icon">⛽</span>
                            </div>
                            <div class="price-value" id="price95">--</div>
                            <div class="price-unit">元/升</div>
                        </div>

                        <div class="price-card type-98">
                            <div class="card-header">
                                <span class="fuel-type">98号汽油</span>
                                <span class="fuel-icon">⛽</span>
                            </div>
                            <div class="price-value" id="price98">--</div>
                            <div class="price-unit">元/升</div>
                        </div>

                        <div class="price-card type-diesel">
                            <div class="card-header">
                                <span class="fuel-type">0号柴油</span>
                                <span class="fuel-icon">🛢️</span>
                            </div>
                            <div class="price-value" id="price0">--</div>
                            <div class="price-unit">元/升</div>
                        </div>
                    </div>

                    <div class="tips">
                        <p>💡 提示：油价信息仅供参考，实际价格以加油站为准</p>
                    </div>
                </div>

                <div class="error-message" id="errorMessage" style="display: none;">
                    <div class="error-icon">⚠️</div>
                    <p id="errorText">查询失败，请稍后重试</p>
                </div>
            </div>
        </div>

        <div class="tab-content" id="currencyTab" style="display: none;">
            <div class="currency-section">
                <div class="price-section">
                    <div class="price-title">实时加密货币价格</div>
                    <div class="price-cards">
                        <div class="price-card">
                            <div class="currency">USDT</div>
                            <div class="price" id="usdt-price">
                                <div class="loading-spinner"></div>
                            </div>
                        </div>
                        <div class="price-card">
                            <div class="currency">TRX</div>
                            <div class="price" id="trx-price">
                                <div class="loading-spinner"></div>
                            </div>
                        </div>
                    </div>
                    <div id="price-error" class="error-message" style="display: none;"></div>
                </div>

                <div class="international-section">
                    <div class="international-title">国际金额快速转换</div>
                    <div class="input-group">
                        <input type="number" id="amount" placeholder="输入金额">
                        <select id="unit">
                            <option value="k" selected>K</option>
                            <option value="m">M</option>
                            <option value="b">B</option>
                        </select>
                    </div>
                    <div class="results-display">
                        <div class="result-card">
                            <div class="result-card-title">基础转换</div>
                            <div class="result-content" id="left-result">
                                <div class="loading-spinner" style="margin: 10px auto;"></div>
                            </div>
                        </div>
                        <div class="result-card">
                            <div class="result-card-title">带单位转换</div>
                            <div class="result-content" id="right-result">
                                <div class="loading-spinner" style="margin: 10px auto;"></div>
                            </div>
                        </div>
                    </div>
                    <div id="international-error" class="error-message" style="display: none;"></div>
                </div>
            </div>
        </div>

        <div class="tab-content" id="textTab" style="display: none;">
            <div class="text-processor-section">
                <div class="card">
                    <div class="section format-section">
                        <h3>格式设置</h3>
                        <div class="format-grid">
                            <div class="input-group">
                                <label for="source-format">源文本格式</label>
                                <input type="text" id="source-format" value="{1}----{2}----{3}----{4}" placeholder="例如: {1}----{2}----{3}----{4}">
                            </div>
                            <div class="input-group">
                                <label for="target-format">目标格式</label>
                                <input type="text" id="target-format" value="{2}----{3}" placeholder="例如: {2}----{3}">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="section input-section">
                        <h3>输入文本</h3>
                        <textarea id="input-text" placeholder="请输入要处理的文本，每行一个"></textarea>
                    </div>
                </div>

                <div class="card">
                    <div class="section control-section">
                        <div class="control-row">
                            <div class="toggle-group">
                                <label class="toggle-label">
                                    <input type="checkbox" id="suffix-enabled" checked>
                                    <span class="toggle-slider"></span>
                                    <span class="toggle-text">添加后缀</span>
                                </label>
                            </div>
                            <div class="number-control" id="suffix-input-group">
                                <label for="suffix-number">后缀数字</label>
                                <input type="number" id="suffix-number" value="20" min="0">
                            </div>
                        </div>
                        
                        <div class="button-group">
                            <button id="process-btn" class="btn btn-primary">
                                <span class="btn-icon">⚡</span>
                                处理文本
                            </button>
                            <button id="copy-btn" class="btn btn-secondary">
                                <span class="btn-icon">📋</span>
                                复制结果
                            </button>
                            <button id="clear-btn" class="btn btn-danger">
                                <span class="btn-icon">🗑️</span>
                                清空
                            </button>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="section output-section">
                        <h3>处理结果</h3>
                        <div class="output-container">
                            <textarea id="output-text" readonly placeholder="处理结果将显示在这里..."></textarea>
                            <div class="output-stats" id="output-stats">
                                <span>0 行</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="social-bar">
        <div class="social-actions">
            <a href="https://x.com/wuyingzhidao" target="_blank" class="social-link" title="关注 X">
                <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zM17.083 19.77h1.833L7.084 4.126H5.117z" fill="currentColor"/>
                </svg>
            </a>
            <a href="https://github.com/wuyingzhishang/wuyingzhishang.github.io" target="_blank" class="social-link" title="GitHub 仓库">
                <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.44 9.8 8.21 11.39.6.11.82-.26.82-.58v-2.02c-3.34.73-4.03-1.41-4.03-1.41-.55-1.39-1.33-1.76-1.33-1.76-1.09-.75.08-.73.08-.73 1.2.08 1.84 1.24 1.84 1.24 1.07 1.83 2.81 1.3 3.49 1 .11-.78.42-1.3.76-1.6-2.66-.31-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.12-.31-.54-1.53.12-3.18 0 0 1.01-.32 3.3 1.23.96-.27 1.98-.4 3-.41 1.02.01 2.05.14 3.01.41 2.29-1.55 3.3-1.23 3.3-1.23.65 1.65.24 2.87.12 3.18.77.84 1.23 1.91 1.23 3.22 0 4.61-2.81 5.62-5.49 5.92.43.37.82 1.1.82 2.22v3.29c0 .32.22.69.83.58C20.57 21.8 24 17.3 24 12 24 5.37 18.63 0 12 0z" fill="currentColor"/>
                </svg>
            </a>
            <button id="addToHomeBtn" class="social-link add-to-home-btn" title="添加到主屏幕">
                <svg width="20" height="20" viewBox="0 0 24 24" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8 1.5h8A3.5 3.5 0 0 1 19.5 5v14A3.5 3.5 0 0 1 16 22.5H8A3.5 3.5 0 0 1 4.5 19V5A3.5 3.5 0 0 1 8 1.5zm0 2A1.5 1.5 0 0 0 6.5 5v14A1.5 1.5 0 0 0 8 20.5h8A1.5 1.5 0 0 0 17.5 19V5A1.5 1.5 0 0 0 16 3.5H8z" fill="currentColor"/>
                    <path d="M12 7.5c.55 0 1 .45 1 1v2.5h2.5a1 1 0 1 1 0 2H13v2.5a1 1 0 1 1-2 0V13H8.5a1 1 0 1 1 0-2H11V8.5c0-.55.45-1 1-1z" fill="currentColor"/>
                </svg>
            </button>
        </div>
        <div class="share-center">
            <button id="shareSiteBtn" class="share-btn" type="button" title="复制网址分享">
                <svg width="16" height="16" viewBox="0 0 24 24" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10 13a5 5 0 0 1 0-7l.7-.7a5 5 0 0 1 7.1 7.1l-.7.7" fill="none" stroke="currentColor" stroke-width="2"/>
                    <path d="M14 11a5 5 0 0 1 0 7l-.7.7a5 5 0 0 1-7.1-7.1l.7-.7" fill="none" stroke="currentColor" stroke-width="2"/>
                </svg>
                复制网址
            </button>

        </div>
    </div>

    <script src="script.js"></script>

    <div id="shareToast" class="toast">
        <div class="toast-icon"></div>
        <div class="toast-text"></div>
    </div>

    <div id="shareImageModal" class="modal">
        <div class="modal-content share-modal-content">
            <div class="modal-header">
                <h3>分享图预览</h3>
                <span class="close" onclick="closeShareImageModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="share-preview">
                    <img id="shareImagePreview" alt="分享图预览" />
                </div>
                <div class="share-actions">
                    <button class="btn btn-primary" id="copyShareImageBtn">
                        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M8 7.5A3.5 3.5 0 0 1 11.5 4h7A3.5 3.5 0 0 1 22 7.5v9A3.5 3.5 0 0 1 18.5 20h-7A3.5 3.5 0 0 1 8 16.5v-9zm3.5-1.5A1.5 1.5 0 0 0 10 7.5v9a1.5 1.5 0 0 0 1.5 1.5h7a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 18.5 6h-7z" fill="currentColor"/>
                        </svg>
                        复制图片
                    </button>
                    <button class="btn btn-secondary" id="downloadShareImageBtn">
                        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M12 2.5c.55 0 1 .45 1 1v8.2l2.23-2.23a1 1 0 1 1 1.41 1.42l-3.94 3.94a1 1 0 0 1-1.41 0L7.36 10.9a1 1 0 1 1 1.41-1.42L11 11.7V3.5c0-.55.45-1 1-1z" fill="currentColor"/>
                            <path d="M6.5 14c.55 0 1 .45 1 1v2.5c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V15c0-.55.45-1 1-1s1 .45 1 1v2.5c0 1.66-1.34 3-3 3h-7c-1.66 0-3-1.34-3-3V15c0-.55.45-1 1-1z" fill="currentColor"/>
                        </svg>
                        下载图片
                    </button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>